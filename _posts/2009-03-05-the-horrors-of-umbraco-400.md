---
layout: post
title: The horrors of Umbraco 4.0.0
date: 2009-03-05 14:24
author: admin
comments: true
categories:
---
<p>Examining the title of this blog entry will reveal two things:</p>  <ul>   <li>I tried to install the CMS Umbraco 4.0.0 (<a href="http://umbraco.org" target="_blank">check it out here</a> )</li>    <li>I wasn’t successful </li> </ul>  <p>Lately I’ve gained access to a ASP.Net 3.5 shared hosting solution provided by <a href="http://www.argeweb.nl">http://www.argeweb.nl</a> and sponsored by Microsoft via Surfspot (a kind of dreamspark for Dutch students, not only for Microsoft products).</p>  <p>Alright it all seemed great. Windows Server 2008, IIS7, ASP.Net 3.5. All very much up to date technologies. </p>  <p>I&#160; was first thinking about building my own CMS in ASP.Net/C#. But as you might know that is quite allot of work. So I went searching for a free .Net based CMS to start with, that I could later extend.</p>  <p>Quickly I found Umbraco, and after trying the demo site I was sold. The used techniques seemed solid, adding new features seemed easy, the source code was freely available and everything was written in ASP.Net 2.0.</p>  <p>I was sure installing it would be a breeze. I created a new database at my management panel at Argeweb and started uploading Umbraco to my websites root folder.</p>  <p>Quickly I encountered quite a few problems with the Web.config file that Umbraco provided. Apparently the Web.config file wasn’t compatible with IIS7’s default application pool, and since my hosting is shared I can’t change IIS’s settings. After allot of testing/googling I finally found 3 tweaks to make this config file work, but quickly NullReference and PermissionDenied exceptions where thrown.</p>  <p>After spending allot of time on the Umbraco forums I found out about a better config file that was IIS7 /ASP.Net3.5 compatible and installed it. All I now got was a permission exception. This seemed to be common in Medium Trust environments and I could simply delete the accused file. I also spoke to Argeweb and the agreed to check out the permissions. A few hours later they mailed that the permissions should be good enough for Umbraco. And they told me that Umbraco 3 was running on their shared host solutions. Of course I wanted Umbraco 4!</p>  <p>After allot more fiddling I finally got the installation screen to show up. I quickly accepted the licence and input my database settings.&#160; A new error occurred stating that Umbraco couldn’t change the Web.config file (if it could that would be one hell of a security problem!) and that I had to change the connection string manually.&#160; I quickly did so and restarted the installation. In the database step all fields where already filled in with the settings I put in the Web.config file, but it still wouldn’t let me pass because it couldn’t save my settings again!</p>  <p>After some searching I found a modified version of the database step *.asx file uploaded it and I could finally choose install.</p>  <p>Umbraco would install fine into my database (so the settings where correct). Great I thought! Now I should be getting somewhere. However the next step I had to change my admin password, ok great, Umbraco has DB access so this couldn’t possibly be a problem. Of course after pressing OK I was proved wrong, and another error occurred. This time in one of the role providers. Unfortunately I still haven't found a way to work around this. I even edited the Web.Config file to think that the installation was done (yes this too was in the Web.config file and thus totally un-settable for Umbraco). But all I got was a redirect stating that my nodes are empty and that I should add a page. A fancy “start Umbraco” button was provided, but unfortunately this button did absolutely nothing…</p>  <p>After spending two days I still haven’t been able to install Umbraco. In the forums not even the developers know what permissions Umbraco exactly needs and they just state “Full Trust will do the trick.” or “Better change hosts.” But I don’t want to change hosts! Argeweb was very helpful and did all they could to get this working, and I understand that they wont elevate my account to Full Trust, which is quite a security hole.</p>  <p>I wasn’t the only one with all these problems, the forums are swarmed with it, and frankly it seems impossible to install Umbraco at a server you don’t control directly. (I tried to install in the root folder, which gave me all these problems. Installing Umbraco in a nice virtual folder like&#160; <a href="http://mywebsite.com/umbraco">http://mywebsite.com/umbraco</a> would cause even more problems according to some users (and probably the end of the world as we know it).</p>  <p>To bad that Umbraco is the only real free solution that had the features that I wanted. At the moment it seems that I’m going to delve into ASP a bit more and see if I can come up with a very very very very very simple CMS.</p>  <p>&#160;</p>  <p>I hope some one out there has more luck with Umbraco than me, it really seems to be awesome technology!</p>  <p>&#160;</p>  <p><a href="http://royalexander.files.wordpress.com/2009/03/art.jpg"><img title="Art" style="border-right:0;border-top:0;display:inline;border-left:0;border-bottom:0;" height="270" alt="Art" src="http://royalexander.files.wordpress.com/2009/03/art-thumb.jpg" width="369" border="0" /></a> </p>  <p><em>(if you even dare to try to reinstall Umbraco you’ll get a nice NullReferenceException)</em></p>
